# Spring

Spring是Java的一个开源框架族，其目的是为了解决企业应用开发的复杂性，简化JavaWeb应用的开发。

![](https://markdown-1259282458.cos.ap-nanjing.myqcloud.com/img/20210801212122.png)

包括Spring框架，简化配置，降低项目搭建难度的Spring Boot，将大项目进行解耦为一个一个小项目的Spring Cloud，以及串联各个客户端的Spring Cloud Data Flow。

---

### Spring FrameWork

#### 思想

- 基于POJO的轻量级和最小侵入性编程
- 通过依赖注入和面向接口实现松耦合
- 基于切面和惯例进行声明式编程
- 通过切面和模版减少样板式代码

##### POJO与最小入侵性编程

与其他一些框架不同，Spring不会要求实现特定的接口或规范的类。Spring的类与POJO几乎没有区别。

通过使类尽量接近POJO，使得类的编写更简单

##### 依赖注入

为了使POJO与其他框架的特定类具备相同的功能，Spring通过依赖注入来使得，POJO具有更多可能。

传统的Java应用中，通常由多个类之间互相协作来完成特定的业务逻辑，这就无法避免各个实例中存有协作类型的引用。各个对象需要负责管理与自己相互协作的对象的引用。从而导致高耦合与难以测试的代码(修改一个类导致另一个类也需要被修改)

**通过依赖注入，对象的依赖关系将不由对象本身管理，而是通过系统进行管理。通过依赖注入可以实现对象之间的松耦合，使得可以在对方不知情的情况下进行修改。**

##### 切面

面向切面编程(AOP)允许你把遍布应用各处的功能分离出来形成可重用的组件。

切面可以使得模块的只专注于本身的方法，而不需要实现一些本身功能之外的通用功能，如日志，事务管理。

##### 模版

通过使用模版代码来避免一些重复的代码编写工作。

#### Spring FrameWork 核心模块

- Spring核心容器：提供Spring的基本功能，管理着Spring应用中bean的创建，配置和管理。核心容器的主要组件是BeanFactory，它是工厂模式的实现。
- Spring上下文：是一个配置文件，向Spring框架提供上下文信息。
- Spring AOP：通过配置管理特性，aop模块直接将面向切面的编程功能集成到Spring框架中。AOP模块为基于SPring的应用程序中的对象提供事务管理服务
- Spring DAO：JDBC DAO抽象层提供了有意义的异常层次结构可以用该结构来管理异常处理和不同数据库供应商抛出的错误消息。简化了错误处理，降低了需要编写的异常代码数量
- Spring ORM：Spring框架插入了若干个ORM框架。从而提供了ORM的对象关系工具。
- Spring WEB：为基于web的应用程序提供上下文
- Spring MVC ：MVC框架是一个全功能的构建WEb应用程序的MVC实现。通过策略接口。mvc框架称为高度可配置的，MVC容纳了大量视图技术

![](https://markdown-1259282458.cos.ap-nanjing.myqcloud.com/img/20210314155747.png)

#### IOC与AOP

##### IOC

*IOC(Inversion of Control)控制反转*

当某个Java对象（调用者）需要调用另一个Java对象（被依赖对象）的方法时，在传统模式下通常有两种做法

原始做法: 调用者主动创建被依赖对象，然后再调用被依赖对象的方法
简单工厂模式: 调用者先找到被依赖对象的工厂，然后主动通过工厂去获取被依赖对象，最后再调用被依赖对象的方法



但是这两种方式都会导致调用者与被依赖对象实现类的硬编码耦合，非常不利用项目升级。



Spring FrameWork中基于控制反转的思想，变主动获取依赖对象为等待容器为其注入对象。

*IOC将组件的创建和配置与组件的使用相分离，降低了组件之间的耦合*

##### AOP

AOP即Aspect orient programing，面向切面编程。

其目的是统一处理跨多个模块业务的处理(如日志，权限检查等)。

在Spring中是基于动态代理实现的

---

